"use strict";var body=document.querySelector("body"),button=document.querySelectorAll(".size"),points=document.querySelectorAll(".points"),other=document.querySelectorAll(".other"),burger=document.querySelector(".header__burger"),naw=document.querySelector(".header__naw"),menuLink=document.querySelectorAll(".mn");function ibg(){for(var e=document.querySelectorAll(".ibg"),t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}document.querySelectorAll(".js-scroll").forEach(function(e){e.addEventListener("click",function(){var e,t,n,r,o,i,c=this.getAttribute("href");e=c,t=1e3,n=document.querySelector(".header").clientHeight,r=document.querySelector(e).getBoundingClientRect().top-n,o=window.pageYOffset,i=null,requestAnimationFrame(function e(n){null===i&&(i=n);var c,l,a,s=n-i,d=(c=s,l=o,a=r,(c/=t/2)<1?a/2*c*c+l:-a/2*(--c*(c-2)-1)+l);window.scrollTo(0,d),s<t&&requestAnimationFrame(e)})})}),ibg();for(var _loop=function(e){button[e].onclick=function(){reset(button[e].dataset.size);for(var t=0;t<points.length;t++)for(var n=0;n<other.length;n++)other[n].dataset.size==points[t].dataset.size&&other[n].dataset.size==button[e].dataset.size&&size(button[e],other[n],points[t])}},i=0;i<button.length;i++)_loop(i);function reset(e){other.forEach(function(t){t.dataset.size!==e&&(t.style.display="none")}),points.forEach(function(t){t.dataset.size!==e&&(t.style.display="inline")}),button.forEach(function(t){t.dataset.size!==e&&(t.innerHTML="читати більше")})}function size(e,t,n){"none"!==n.style.display?(n.style.display="none",t.style.display="inline",e.innerHTML="читати менше"):(n.style.display="inline",t.style.display="none",e.innerHTML="читати більше")}function menuFunc(){this.classList.toggle("active"),naw.classList.toggle("active"),body.classList.toggle("lock")}function menuClose(){for(var e=0;e<menuLink.length;e++)menuLink[e].onclick=function(){burger.classList.remove("active"),naw.classList.remove("active"),body.classList.remove("lock")}}burger.onclick=menuFunc,menuClose();var filterItem=document.querySelectorAll(".card__wrap"),resultString=document.querySelector(".cards__resault");function filterFunction(e){if(resultString.innerHTML="","A"!==e.target.tagName)return!1;var t=filterItem.length;filterItem.forEach(function(n){n.classList.remove("hide"),"all_countries"==e.target.dataset.filter||e.target.dataset.filter!=n.dataset.filter&&(n.classList.add("hide"),t--)}),t<1&&e.target.dataset.filter&&(resultString.innerHTML="На даний час, акції за цією категорією турів відсутні.")}document.querySelector(".cards__filter").addEventListener("click",filterFunction);var price=document.querySelectorAll("[data-price]"),reting=document.querySelectorAll("[data-reting]"),parent=document.querySelector(".cards__items");function topFilter(e){for(var t=0;t<parent.children.length;t++)for(var n=t;n<parent.children.length;n++){if(+parent.children[t].getAttribute(e)>+parent.children[n].getAttribute(e))insertAfter(parent.replaceChild(parent.children[n],parent.children[t]),parent.children[t])}}function bottomFilter(e){for(var t=0;t<parent.children.length;t++)for(var n=t;n<parent.children.length;n++){if(+parent.children[t].getAttribute(e)<+parent.children[n].getAttribute(e))insertAfter(parent.replaceChild(parent.children[n],parent.children[t]),parent.children[t])}}function insertAfter(e,t){t.parentNode.insertBefore(e,t.nextSibling)}document.querySelector(".price-top").onclick=function(){return topFilter("data-price")},document.querySelector(".price-bottom").onclick=function(){return bottomFilter("data-price")},document.querySelector(".reting-top").onclick=function(){return topFilter("data-reting")},document.querySelector(".reting-bottom").onclick=function(){return bottomFilter("data-reting")};var retingВuttons=document.querySelectorAll(".reting-btn"),filterButtons=document.querySelectorAll(".filter__batton");function buttonColor(e,t){e.forEach(function(e){e.classList.remove("filter__batton_active"),e==t.target&&e.classList.add("filter__batton_active")})}document.querySelector(".cards__filter").addEventListener("click",function(){return buttonColor(filterButtons,event)}),document.querySelector(".cards__reting").addEventListener("click",function(){return buttonColor(retingВuttons,event)});var sendDesktop=document.querySelector(".base__btn"),sendMobil=document.querySelector(".base__btn-mobile"),myInput=document.querySelector(".base__input_long"),coment1=document.querySelector(".base__coment-1"),coment2=document.querySelector(".base__coment-2"),form=document.querySelector(".base__form_mail");function validate(e){if(e.preventDefault(),""==myInput.value)coment1.classList.add("error");else if(!1===/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(myInput.value))coment2.classList.add("error");else{sending({name:"any",mail:myInput.value})}}async function sending(e){form.classList.add("_sending");var t=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}),n=await t.json();console.log(n),form.classList.remove("_sending")}function focus(){coment1.classList.contains("error")&&coment1.classList.remove("error"),coment2.classList.contains("error")&&coment2.classList.remove("error")}sendDesktop.addEventListener("click",validate),sendMobil.addEventListener("click",validate),form.addEventListener("focus",focus,!0);var telephone=document.querySelector(".header__telephone"),headerBody=document.querySelector(".header__body"),headerNaw=document.querySelector(".header__naw");function dinAdapt(e){Math.max(document.documentElement.clientWidth,window.innerWidth||0)<530?telephone.classList.contains("moving")||(headerNaw.insertBefore(telephone,headerNaw.children[0]),telephone.classList.add("moving")):telephone.classList.contains("moving")&&(headerBody.insertBefore(telephone,headerBody.children[2]),telephone.classList.remove("moving"))}function height(e){var t=document.querySelectorAll(e),n=0;t.forEach(function(e){console.log(e.clientHeight),e.clientHeight>n&&(n=e.clientHeight)}),t.forEach(function(e){e.clientHeight!==n&&(e.style.height="".concat(n,"px"))})}document.addEventListener("DOMContentLoaded",dinAdapt),window.addEventListener("resize",dinAdapt),height(".card__title"),height(".card__address");